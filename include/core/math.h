// This file is subject to the terms and conditions defined in 'LICENSE' in the source code package

#ifndef JACTORIO_INCLUDE_CORE_MATH_H
#define JACTORIO_INCLUDE_CORE_MATH_H
#pragma once

#include <cmath>
#include <type_traits>

#include "jactorio.h"

namespace jactorio::core
{
	// ======================================================================
	// Conversions

	///
	/// \brief Performs cast, data may be lost
	template <class TTarget, class TOriginal>
	constexpr TTarget LossyCast(TOriginal val,
	                            std::enable_if_t<std::is_integral_v<TOriginal> || std::is_floating_point_v<TOriginal>, int>  = 0,
	                            std::enable_if_t<std::is_integral_v<TTarget> || std::is_floating_point_v<TTarget>, int>      = 0)
	noexcept {

		return static_cast<TTarget>(val);
	}

	///
	/// \brief Performs cast ensuring no data is lost
	/// \remark Same behavior as static cast if assertions are disabled
	template <class TTargetInt, class TOriginalInt>
	constexpr TTargetInt SafeCast(TOriginalInt val,
	                              std::enable_if_t<std::is_integral_v<TOriginalInt>, int>                                        = 0,
	                              std::enable_if_t<std::is_integral_v<TTargetInt> || std::is_floating_point_v<TTargetInt>, int>  = 0)
	noexcept {

		constexpr bool is_different_signedness = (std::is_signed<TTargetInt>::value != std::is_signed<TOriginalInt>::value);

		const auto cast_val = LossyCast<TTargetInt>(val);

		if (core::LossyCast<TOriginalInt>(cast_val) != val
			|| (is_different_signedness && ((cast_val < TTargetInt{}) != (val < TOriginalInt{})))) {
			assert(false);
		}

		return cast_val;
	}

	template <typename TyLeft, typename TyRight>
	void SafeCastAssign(TyLeft&& l_val, TyRight&& r_val) {
		l_val = SafeCast<std::remove_reference_t<decltype(l_val)>>(r_val);
	}

	// ======================================================================
	// Math functions for floating point numbers

	constexpr double kPi = 3.141592653589793238462643383279502884;

	inline bool FloatEq(const float a, const float b, const float epsilon) {
		return fabs(a - b) < epsilon;
	}


	// If necessary in the future, swap these to another implementation
	using TDegree = double;

	inline double Sin(const TDegree degree) {
		return sin(degree / (180 / kPi));
	}

	inline double Cos(const TDegree degree) {
		return cos(degree / (180 / kPi));
	}

	inline double Tan(const TDegree degree) {
		return tan(degree / (180 / kPi));
	}


	// Precomputed for integer degrees
	using TIntDegree = unsigned int;

	inline double SinF(const TIntDegree degree) {
		assert(0 <= degree && degree <= 359);
		constexpr double sin_values[]{
			0,
			0.0174524064372835,
			0.0348994967025010,
			0.0523359562429438,
			0.0697564737441253,
			0.0871557427476582,
			0.104528463267653,
			0.121869343405147,
			0.139173100960065,
			0.156434465040231,
			0.173648177666930,
			0.190808995376545,
			0.207911690817759,
			0.224951054343865,
			0.241921895599668,
			0.258819045102521,
			0.275637355816999,
			0.292371704722737,
			0.309016994374947,
			0.325568154457157,
			0.342020143325669,
			0.358367949545300,
			0.374606593415912,
			0.390731128489274,
			0.406736643075800,
			0.422618261740699,
			0.438371146789077,
			0.453990499739547,
			0.469471562785891,
			0.484809620246337,
			0.500000000000000,
			0.515038074910054,
			0.529919264233205,
			0.544639035015027,
			0.559192903470747,
			0.573576436351046,
			0.587785252292473,
			0.601815023152048,
			0.615661475325658,
			0.629320391049838,
			0.642787609686539,
			0.656059028990507,
			0.669130606358858,
			0.681998360062498,
			0.694658370458997,
			0.707106781186548,
			0.719339800338651,
			0.731353701619170,
			0.743144825477394,
			0.754709580222772,
			0.766044443118978,
			0.777145961456971,
			0.788010753606722,
			0.798635510047293,
			0.809016994374947,
			0.819152044288992,
			0.829037572555042,
			0.838670567945424,
			0.848048096156426,
			0.857167300702112,
			0.866025403784439,
			0.874619707139396,
			0.882947592858927,
			0.891006524188368,
			0.898794046299167,
			0.906307787036650,
			0.913545457642601,
			0.920504853452440,
			0.927183854566787,
			0.933580426497202,
			0.939692620785908,
			0.945518575599317,
			0.951056516295154,
			0.956304755963035,
			0.961261695938319,
			0.965925826289068,
			0.970295726275996,
			0.974370064785235,
			0.978147600733806,
			0.981627183447664,
			0.984807753012208,
			0.987688340595138,
			0.990268068741570,
			0.992546151641322,
			0.994521895368273,
			0.996194698091746,
			0.997564050259824,
			0.998629534754574,
			0.999390827019096,
			0.999847695156391,
			1.00000000000000,
			0.999847695156391,
			0.999390827019096,
			0.998629534754574,
			0.997564050259824,
			0.996194698091746,
			0.994521895368273,
			0.992546151641322,
			0.990268068741570,
			0.987688340595138,
			0.984807753012208,
			0.981627183447664,
			0.978147600733806,
			0.974370064785235,
			0.970295726275996,
			0.965925826289068,
			0.961261695938319,
			0.956304755963035,
			0.951056516295154,
			0.945518575599317,
			0.939692620785908,
			0.933580426497202,
			0.927183854566787,
			0.920504853452440,
			0.913545457642601,
			0.906307787036650,
			0.898794046299167,
			0.891006524188368,
			0.882947592858927,
			0.874619707139396,
			0.866025403784439,
			0.857167300702112,
			0.848048096156426,
			0.838670567945424,
			0.829037572555042,
			0.819152044288992,
			0.809016994374947,
			0.798635510047293,
			0.788010753606722,
			0.777145961456971,
			0.766044443118978,
			0.754709580222772,
			0.743144825477394,
			0.731353701619170,
			0.719339800338651,
			0.707106781186548,
			0.694658370458997,
			0.681998360062498,
			0.669130606358858,
			0.656059028990507,
			0.642787609686539,
			0.629320391049838,
			0.615661475325658,
			0.601815023152048,
			0.587785252292473,
			0.573576436351046,
			0.559192903470747,
			0.544639035015027,
			0.529919264233205,
			0.515038074910054,
			0.500000000000000,
			0.484809620246337,
			0.469471562785891,
			0.453990499739547,
			0.438371146789077,
			0.422618261740699,
			0.406736643075800,
			0.390731128489274,
			0.374606593415912,
			0.358367949545300,
			0.342020143325669,
			0.325568154457157,
			0.309016994374947,
			0.292371704722737,
			0.275637355816999,
			0.258819045102521,
			0.241921895599668,
			0.224951054343865,
			0.207911690817759,
			0.190808995376545,
			0.173648177666930,
			0.156434465040231,
			0.139173100960065,
			0.121869343405147,
			0.104528463267653,
			0.0871557427476582,
			0.0697564737441253,
			0.0523359562429438,
			0.0348994967025010,
			0.0174524064372835,
			0,
			-0.0174524064372835,
			-0.0348994967025010,
			-0.0523359562429438,
			-0.0697564737441253,
			-0.0871557427476582,
			-0.104528463267653,
			-0.121869343405147,
			-0.139173100960065,
			-0.156434465040231,
			-0.173648177666930,
			-0.190808995376545,
			-0.207911690817759,
			-0.224951054343865,
			-0.241921895599668,
			-0.258819045102521,
			-0.275637355816999,
			-0.292371704722737,
			-0.309016994374947,
			-0.325568154457157,
			-0.342020143325669,
			-0.358367949545300,
			-0.374606593415912,
			-0.390731128489274,
			-0.406736643075800,
			-0.422618261740699,
			-0.438371146789077,
			-0.453990499739547,
			-0.469471562785891,
			-0.484809620246337,
			-0.500000000000000,
			-0.515038074910054,
			-0.529919264233205,
			-0.544639035015027,
			-0.559192903470747,
			-0.573576436351046,
			-0.587785252292473,
			-0.601815023152048,
			-0.615661475325658,
			-0.629320391049838,
			-0.642787609686539,
			-0.656059028990507,
			-0.669130606358858,
			-0.681998360062498,
			-0.694658370458997,
			-0.707106781186548,
			-0.719339800338651,
			-0.731353701619170,
			-0.743144825477394,
			-0.754709580222772,
			-0.766044443118978,
			-0.777145961456971,
			-0.788010753606722,
			-0.798635510047293,
			-0.809016994374947,
			-0.819152044288992,
			-0.829037572555042,
			-0.838670567945424,
			-0.848048096156426,
			-0.857167300702112,
			-0.866025403784439,
			-0.874619707139396,
			-0.882947592858927,
			-0.891006524188368,
			-0.898794046299167,
			-0.906307787036650,
			-0.913545457642601,
			-0.920504853452440,
			-0.927183854566787,
			-0.933580426497202,
			-0.939692620785908,
			-0.945518575599317,
			-0.951056516295154,
			-0.956304755963035,
			-0.961261695938319,
			-0.965925826289068,
			-0.970295726275996,
			-0.974370064785235,
			-0.978147600733806,
			-0.981627183447664,
			-0.984807753012208,
			-0.987688340595138,
			-0.990268068741570,
			-0.992546151641322,
			-0.994521895368273,
			-0.996194698091746,
			-0.997564050259824,
			-0.998629534754574,
			-0.999390827019096,
			-0.999847695156391,
			-1.00000000000000,
			-0.999847695156391,
			-0.999390827019096,
			-0.998629534754574,
			-0.997564050259824,
			-0.996194698091746,
			-0.994521895368273,
			-0.992546151641322,
			-0.990268068741570,
			-0.987688340595138,
			-0.984807753012208,
			-0.981627183447664,
			-0.978147600733806,
			-0.974370064785235,
			-0.970295726275996,
			-0.965925826289068,
			-0.961261695938319,
			-0.956304755963035,
			-0.951056516295154,
			-0.945518575599317,
			-0.939692620785908,
			-0.933580426497202,
			-0.927183854566787,
			-0.920504853452440,
			-0.913545457642601,
			-0.906307787036650,
			-0.898794046299167,
			-0.891006524188368,
			-0.882947592858927,
			-0.874619707139396,
			-0.866025403784439,
			-0.857167300702112,
			-0.848048096156426,
			-0.838670567945424,
			-0.829037572555042,
			-0.819152044288992,
			-0.809016994374947,
			-0.798635510047293,
			-0.788010753606722,
			-0.777145961456971,
			-0.766044443118978,
			-0.754709580222772,
			-0.743144825477394,
			-0.731353701619170,
			-0.719339800338651,
			-0.707106781186548,
			-0.694658370458997,
			-0.681998360062498,
			-0.669130606358858,
			-0.656059028990507,
			-0.642787609686539,
			-0.629320391049838,
			-0.615661475325658,
			-0.601815023152048,
			-0.587785252292473,
			-0.573576436351046,
			-0.559192903470747,
			-0.544639035015027,
			-0.529919264233205,
			-0.515038074910054,
			-0.500000000000000,
			-0.484809620246337,
			-0.469471562785891,
			-0.453990499739547,
			-0.438371146789077,
			-0.422618261740699,
			-0.406736643075800,
			-0.390731128489274,
			-0.374606593415912,
			-0.358367949545300,
			-0.342020143325669,
			-0.325568154457157,
			-0.309016994374947,
			-0.292371704722737,
			-0.275637355816999,
			-0.258819045102521,
			-0.241921895599668,
			-0.224951054343865,
			-0.207911690817759,
			-0.190808995376545,
			-0.173648177666930,
			-0.156434465040231,
			-0.139173100960065,
			-0.121869343405147,
			-0.104528463267653,
			-0.0871557427476582,
			-0.0697564737441253,
			-0.0523359562429438,
			-0.0348994967025010,
			-0.0174524064372835,
		};
		static_assert(sizeof(sin_values) / sizeof(double) == 360);
		return sin_values[degree];
	}

	inline double CosF(const TIntDegree degree) {
		assert(0 <= degree && degree <= 359);
		constexpr double cos_values[]{
			1.00000000000000,
			0.999847695156391,
			0.999390827019096,
			0.998629534754574,
			0.997564050259824,
			0.996194698091746,
			0.994521895368273,
			0.992546151641322,
			0.990268068741570,
			0.987688340595138,
			0.984807753012208,
			0.981627183447664,
			0.978147600733806,
			0.974370064785235,
			0.970295726275996,
			0.965925826289068,
			0.961261695938319,
			0.956304755963035,
			0.951056516295154,
			0.945518575599317,
			0.939692620785908,
			0.933580426497202,
			0.927183854566787,
			0.920504853452440,
			0.913545457642601,
			0.906307787036650,
			0.898794046299167,
			0.891006524188368,
			0.882947592858927,
			0.874619707139396,
			0.866025403784439,
			0.857167300702112,
			0.848048096156426,
			0.838670567945424,
			0.829037572555042,
			0.819152044288992,
			0.809016994374947,
			0.798635510047293,
			0.788010753606722,
			0.777145961456971,
			0.766044443118978,
			0.754709580222772,
			0.743144825477394,
			0.731353701619170,
			0.719339800338651,
			0.707106781186548,
			0.694658370458997,
			0.681998360062498,
			0.669130606358858,
			0.656059028990507,
			0.642787609686539,
			0.629320391049838,
			0.615661475325658,
			0.601815023152048,
			0.587785252292473,
			0.573576436351046,
			0.559192903470747,
			0.544639035015027,
			0.529919264233205,
			0.515038074910054,
			0.500000000000000,
			0.484809620246337,
			0.469471562785891,
			0.453990499739547,
			0.438371146789077,
			0.422618261740699,
			0.406736643075800,
			0.390731128489274,
			0.374606593415912,
			0.358367949545300,
			0.342020143325669,
			0.325568154457157,
			0.309016994374947,
			0.292371704722737,
			0.275637355816999,
			0.258819045102521,
			0.241921895599668,
			0.224951054343865,
			0.207911690817759,
			0.190808995376545,
			0.173648177666930,
			0.156434465040231,
			0.139173100960065,
			0.121869343405147,
			0.104528463267653,
			0.0871557427476582,
			0.0697564737441253,
			0.0523359562429438,
			0.0348994967025010,
			0.0174524064372835,
			0,
			-0.0174524064372835,
			-0.0348994967025010,
			-0.0523359562429438,
			-0.0697564737441253,
			-0.0871557427476582,
			-0.104528463267653,
			-0.121869343405147,
			-0.139173100960065,
			-0.156434465040231,
			-0.173648177666930,
			-0.190808995376545,
			-0.207911690817759,
			-0.224951054343865,
			-0.241921895599668,
			-0.258819045102521,
			-0.275637355816999,
			-0.292371704722737,
			-0.309016994374947,
			-0.325568154457157,
			-0.342020143325669,
			-0.358367949545300,
			-0.374606593415912,
			-0.390731128489274,
			-0.406736643075800,
			-0.422618261740699,
			-0.438371146789077,
			-0.453990499739547,
			-0.469471562785891,
			-0.484809620246337,
			-0.500000000000000,
			-0.515038074910054,
			-0.529919264233205,
			-0.544639035015027,
			-0.559192903470747,
			-0.573576436351046,
			-0.587785252292473,
			-0.601815023152048,
			-0.615661475325658,
			-0.629320391049838,
			-0.642787609686539,
			-0.656059028990507,
			-0.669130606358858,
			-0.681998360062498,
			-0.694658370458997,
			-0.707106781186548,
			-0.719339800338651,
			-0.731353701619170,
			-0.743144825477394,
			-0.754709580222772,
			-0.766044443118978,
			-0.777145961456971,
			-0.788010753606722,
			-0.798635510047293,
			-0.809016994374947,
			-0.819152044288992,
			-0.829037572555042,
			-0.838670567945424,
			-0.848048096156426,
			-0.857167300702112,
			-0.866025403784439,
			-0.874619707139396,
			-0.882947592858927,
			-0.891006524188368,
			-0.898794046299167,
			-0.906307787036650,
			-0.913545457642601,
			-0.920504853452440,
			-0.927183854566787,
			-0.933580426497202,
			-0.939692620785908,
			-0.945518575599317,
			-0.951056516295154,
			-0.956304755963035,
			-0.961261695938319,
			-0.965925826289068,
			-0.970295726275996,
			-0.974370064785235,
			-0.978147600733806,
			-0.981627183447664,
			-0.984807753012208,
			-0.987688340595138,
			-0.990268068741570,
			-0.992546151641322,
			-0.994521895368273,
			-0.996194698091746,
			-0.997564050259824,
			-0.998629534754574,
			-0.999390827019096,
			-0.999847695156391,
			-1.00000000000000,
			-0.999847695156391,
			-0.999390827019096,
			-0.998629534754574,
			-0.997564050259824,
			-0.996194698091746,
			-0.994521895368273,
			-0.992546151641322,
			-0.990268068741570,
			-0.987688340595138,
			-0.984807753012208,
			-0.981627183447664,
			-0.978147600733806,
			-0.974370064785235,
			-0.970295726275996,
			-0.965925826289068,
			-0.961261695938319,
			-0.956304755963035,
			-0.951056516295154,
			-0.945518575599317,
			-0.939692620785908,
			-0.933580426497202,
			-0.927183854566787,
			-0.920504853452440,
			-0.913545457642601,
			-0.906307787036650,
			-0.898794046299167,
			-0.891006524188368,
			-0.882947592858927,
			-0.874619707139396,
			-0.866025403784439,
			-0.857167300702112,
			-0.848048096156426,
			-0.838670567945424,
			-0.829037572555042,
			-0.819152044288992,
			-0.809016994374947,
			-0.798635510047293,
			-0.788010753606722,
			-0.777145961456971,
			-0.766044443118978,
			-0.754709580222772,
			-0.743144825477394,
			-0.731353701619170,
			-0.719339800338651,
			-0.707106781186548,
			-0.694658370458997,
			-0.681998360062498,
			-0.669130606358858,
			-0.656059028990507,
			-0.642787609686539,
			-0.629320391049838,
			-0.615661475325658,
			-0.601815023152048,
			-0.587785252292473,
			-0.573576436351046,
			-0.559192903470747,
			-0.544639035015027,
			-0.529919264233205,
			-0.515038074910054,
			-0.500000000000000,
			-0.484809620246337,
			-0.469471562785891,
			-0.453990499739547,
			-0.438371146789077,
			-0.422618261740699,
			-0.406736643075800,
			-0.390731128489274,
			-0.374606593415912,
			-0.358367949545300,
			-0.342020143325669,
			-0.325568154457157,
			-0.309016994374947,
			-0.292371704722737,
			-0.275637355816999,
			-0.258819045102521,
			-0.241921895599668,
			-0.224951054343865,
			-0.207911690817759,
			-0.190808995376545,
			-0.173648177666930,
			-0.156434465040231,
			-0.139173100960065,
			-0.121869343405147,
			-0.104528463267653,
			-0.0871557427476582,
			-0.0697564737441253,
			-0.0523359562429438,
			-0.0348994967025010,
			-0.0174524064372835,
			0,
			0.0174524064372835,
			0.0348994967025010,
			0.0523359562429438,
			0.0697564737441253,
			0.0871557427476582,
			0.104528463267653,
			0.121869343405147,
			0.139173100960065,
			0.156434465040231,
			0.173648177666930,
			0.190808995376545,
			0.207911690817759,
			0.224951054343865,
			0.241921895599668,
			0.258819045102521,
			0.275637355816999,
			0.292371704722737,
			0.309016994374947,
			0.325568154457157,
			0.342020143325669,
			0.358367949545300,
			0.374606593415912,
			0.390731128489274,
			0.406736643075800,
			0.422618261740699,
			0.438371146789077,
			0.453990499739547,
			0.469471562785891,
			0.484809620246337,
			0.500000000000000,
			0.515038074910054,
			0.529919264233205,
			0.544639035015027,
			0.559192903470747,
			0.573576436351046,
			0.587785252292473,
			0.601815023152048,
			0.615661475325658,
			0.629320391049838,
			0.642787609686539,
			0.656059028990507,
			0.669130606358858,
			0.681998360062498,
			0.694658370458997,
			0.707106781186548,
			0.719339800338651,
			0.731353701619170,
			0.743144825477394,
			0.754709580222772,
			0.766044443118978,
			0.777145961456971,
			0.788010753606722,
			0.798635510047293,
			0.809016994374947,
			0.819152044288992,
			0.829037572555042,
			0.838670567945424,
			0.848048096156426,
			0.857167300702112,
			0.866025403784439,
			0.874619707139396,
			0.882947592858927,
			0.891006524188368,
			0.898794046299167,
			0.906307787036650,
			0.913545457642601,
			0.920504853452440,
			0.927183854566787,
			0.933580426497202,
			0.939692620785908,
			0.945518575599317,
			0.951056516295154,
			0.956304755963035,
			0.961261695938319,
			0.965925826289068,
			0.970295726275996,
			0.974370064785235,
			0.978147600733806,
			0.981627183447664,
			0.984807753012208,
			0.987688340595138,
			0.990268068741570,
			0.992546151641322,
			0.994521895368273,
			0.996194698091746,
			0.997564050259824,
			0.998629534754574,
			0.999390827019096,
			0.999847695156391,
		};
		static_assert(sizeof(cos_values) / sizeof(double) == 360);
		return cos_values[degree];
	}

	inline double TanF(const TIntDegree degree) {
		assert(0 <= degree && degree <= 359);
		constexpr double tan_value[]{
			0,
			0.0174550649282176,
			0.0349207694917477,
			0.0524077792830412,
			0.0699268119435104,
			0.0874886635259240,
			0.105104235265676,
			0.122784560902905,
			0.140540834702391,
			0.158384440324536,
			0.176326980708465,
			0.194380309137718,
			0.212556561670022,
			0.230868191125563,
			0.249328002843181,
			0.267949192431123,
			0.286745385758808,
			0.305730681458660,
			0.324919696232906,
			0.344327613289665,
			0.363970234266202,
			0.383864035035416,
			0.404026225835157,
			0.424474816209605,
			0.445228685308536,
			0.466307658154999,
			0.487732588565861,
			0.509525449494429,
			0.531709431661479,
			0.554309051452769,
			0.577350269189626,
			0.600860619027560,
			0.624869351909327,
			0.649407593197511,
			0.674508516842427,
			0.700207538209710,
			0.726542528005361,
			0.753554050102794,
			0.781285626506717,
			0.809784033195007,
			0.839099631177280,
			0.869286737816227,
			0.900404044297840,
			0.932515086137662,
			0.965688774807074,
			1.00000000000000,
			1.03553031379057,
			1.07236871002468,
			1.11061251482919,
			1.15036840722101,
			1.19175359259421,
			1.23489715653505,
			1.27994163219308,
			1.32704482162041,
			1.37638192047117,
			1.42814800674211,
			1.48256096851274,
			1.53986496381458,
			1.60033452904105,
			1.66427948235052,
			1.73205080756888,
			1.80404775527142,
			1.88072646534633,
			1.96261050550515,
			2.05030384157930,
			2.14450692050956,
			2.24603677390422,
			2.35585236582375,
			2.47508685341630,
			2.60508906469380,
			2.74747741945462,
			2.90421087767582,
			3.07768353717525,
			3.27085261848414,
			3.48741444384091,
			3.73205080756888,
			4.01078093353584,
			4.33147587428416,
			4.70463010947845,
			5.14455401597031,
			5.67128181961771,
			6.31375151467504,
			7.11536972238421,
			8.14434642797459,
			9.51436445422259,
			11.4300523027613,
			14.3006662567119,
			19.0811366877282,
			28.6362532829156,
			57.2899616307594,
			0,
			-57.2899616307594,
			-28.6362532829156,
			-19.0811366877282,
			-14.3006662567119,
			-11.4300523027613,
			-9.51436445422259,
			-8.14434642797459,
			-7.11536972238421,
			-6.31375151467504,
			-5.67128181961771,
			-5.14455401597031,
			-4.70463010947845,
			-4.33147587428416,
			-4.01078093353584,
			-3.73205080756888,
			-3.48741444384091,
			-3.27085261848414,
			-3.07768353717525,
			-2.90421087767582,
			-2.74747741945462,
			-2.60508906469380,
			-2.47508685341630,
			-2.35585236582375,
			-2.24603677390422,
			-2.14450692050956,
			-2.05030384157930,
			-1.96261050550515,
			-1.88072646534633,
			-1.80404775527142,
			-1.73205080756888,
			-1.66427948235052,
			-1.60033452904105,
			-1.53986496381458,
			-1.48256096851274,
			-1.42814800674211,
			-1.37638192047117,
			-1.32704482162041,
			-1.27994163219308,
			-1.23489715653505,
			-1.19175359259421,
			-1.15036840722101,
			-1.11061251482919,
			-1.07236871002468,
			-1.03553031379057,
			-1.00000000000000,
			-0.965688774807074,
			-0.932515086137662,
			-0.900404044297840,
			-0.869286737816227,
			-0.839099631177280,
			-0.809784033195007,
			-0.781285626506717,
			-0.753554050102794,
			-0.726542528005361,
			-0.700207538209710,
			-0.674508516842427,
			-0.649407593197511,
			-0.624869351909327,
			-0.600860619027560,
			-0.577350269189626,
			-0.554309051452769,
			-0.531709431661479,
			-0.509525449494429,
			-0.487732588565861,
			-0.466307658154999,
			-0.445228685308536,
			-0.424474816209605,
			-0.404026225835157,
			-0.383864035035416,
			-0.363970234266202,
			-0.344327613289665,
			-0.324919696232906,
			-0.305730681458660,
			-0.286745385758808,
			-0.267949192431123,
			-0.249328002843181,
			-0.230868191125563,
			-0.212556561670022,
			-0.194380309137718,
			-0.176326980708465,
			-0.158384440324536,
			-0.140540834702391,
			-0.122784560902905,
			-0.105104235265676,
			-0.0874886635259240,
			-0.0699268119435104,
			-0.0524077792830412,
			-0.0349207694917477,
			-0.0174550649282176,
			0,
			0.0174550649282176,
			0.0349207694917477,
			0.0524077792830412,
			0.0699268119435104,
			0.0874886635259240,
			0.105104235265676,
			0.122784560902905,
			0.140540834702391,
			0.158384440324536,
			0.176326980708465,
			0.194380309137718,
			0.212556561670022,
			0.230868191125563,
			0.249328002843181,
			0.267949192431123,
			0.286745385758808,
			0.305730681458660,
			0.324919696232906,
			0.344327613289665,
			0.363970234266202,
			0.383864035035416,
			0.404026225835157,
			0.424474816209605,
			0.445228685308536,
			0.466307658154999,
			0.487732588565861,
			0.509525449494429,
			0.531709431661479,
			0.554309051452769,
			0.577350269189626,
			0.600860619027560,
			0.624869351909327,
			0.649407593197511,
			0.674508516842427,
			0.700207538209710,
			0.726542528005361,
			0.753554050102794,
			0.781285626506717,
			0.809784033195007,
			0.839099631177280,
			0.869286737816227,
			0.900404044297840,
			0.932515086137662,
			0.965688774807074,
			1.00000000000000,
			1.03553031379057,
			1.07236871002468,
			1.11061251482919,
			1.15036840722101,
			1.19175359259421,
			1.23489715653505,
			1.27994163219308,
			1.32704482162041,
			1.37638192047117,
			1.42814800674211,
			1.48256096851274,
			1.53986496381458,
			1.60033452904105,
			1.66427948235052,
			1.73205080756888,
			1.80404775527142,
			1.88072646534633,
			1.96261050550515,
			2.05030384157930,
			2.14450692050956,
			2.24603677390422,
			2.35585236582375,
			2.47508685341630,
			2.60508906469380,
			2.74747741945462,
			2.90421087767582,
			3.07768353717525,
			3.27085261848414,
			3.48741444384091,
			3.73205080756888,
			4.01078093353584,
			4.33147587428416,
			4.70463010947845,
			5.14455401597031,
			5.67128181961771,
			6.31375151467504,
			7.11536972238421,
			8.14434642797459,
			9.51436445422259,
			11.4300523027613,
			14.3006662567119,
			19.0811366877282,
			28.6362532829156,
			57.2899616307594,
			0,
			-57.2899616307594,
			-28.6362532829156,
			-19.0811366877282,
			-14.3006662567119,
			-11.4300523027613,
			-9.51436445422259,
			-8.14434642797459,
			-7.11536972238421,
			-6.31375151467504,
			-5.67128181961771,
			-5.14455401597031,
			-4.70463010947845,
			-4.33147587428416,
			-4.01078093353584,
			-3.73205080756888,
			-3.48741444384091,
			-3.27085261848414,
			-3.07768353717525,
			-2.90421087767582,
			-2.74747741945462,
			-2.60508906469380,
			-2.47508685341630,
			-2.35585236582375,
			-2.24603677390422,
			-2.14450692050956,
			-2.05030384157930,
			-1.96261050550515,
			-1.88072646534633,
			-1.80404775527142,
			-1.73205080756888,
			-1.66427948235052,
			-1.60033452904105,
			-1.53986496381458,
			-1.48256096851274,
			-1.42814800674211,
			-1.37638192047117,
			-1.32704482162041,
			-1.27994163219308,
			-1.23489715653505,
			-1.19175359259421,
			-1.15036840722101,
			-1.11061251482919,
			-1.07236871002468,
			-1.03553031379057,
			-1.00000000000000,
			-0.965688774807074,
			-0.932515086137662,
			-0.900404044297840,
			-0.869286737816227,
			-0.839099631177280,
			-0.809784033195007,
			-0.781285626506717,
			-0.753554050102794,
			-0.726542528005361,
			-0.700207538209710,
			-0.674508516842427,
			-0.649407593197511,
			-0.624869351909327,
			-0.600860619027560,
			-0.577350269189626,
			-0.554309051452769,
			-0.531709431661479,
			-0.509525449494429,
			-0.487732588565861,
			-0.466307658154999,
			-0.445228685308536,
			-0.424474816209605,
			-0.404026225835157,
			-0.383864035035416,
			-0.363970234266202,
			-0.344327613289665,
			-0.324919696232906,
			-0.305730681458660,
			-0.286745385758808,
			-0.267949192431123,
			-0.249328002843181,
			-0.230868191125563,
			-0.212556561670022,
			-0.194380309137718,
			-0.176326980708465,
			-0.158384440324536,
			-0.140540834702391,
			-0.122784560902905,
			-0.105104235265676,
			-0.0874886635259240,
			-0.0699268119435104,
			-0.0524077792830412,
			-0.0349207694917477,
			-0.0174550649282176,
		};
		static_assert(sizeof(tan_value) / sizeof(double) == 360);
		return tan_value[degree];
	}
}

#endif //JACTORIO_INCLUDE_CORE_MATH_H
